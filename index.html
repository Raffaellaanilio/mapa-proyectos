<!DOCTYPE html>
<html lang="en">

<head>
    <title>Mapa de Proyectos</title>
    <meta charset='utf-8'>
    <meta name="viewport"
        content="width=device-width, initial-scale=1 maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <script src="https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.css" rel="stylesheet"   />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400">
    <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,400">
    <link rel="stylesheet" href="/styles.css">
</head>

<body>
    <header style="background-color:#0A132D;" class="card p-1 text-center">
        <div class="container-fluid">
            <div class="row justify-content-end align-items-center">

                <div id="flecha" class="col-2 col-md-1 toggle-button" onclick="togglePanel()">
                    <img viewBox="0 0 ancho alto" style="width: 5vh;" id="toggleIcon" src="images/info.svg">
                </div>
                <div class="col-2 col-md-1">
                    <img class="logo" src="images/logo-gob-header-blanco.svg">
                </div>
                <div class="col-2 col-md-1">
                    <img class="logo" src="images/logo-ide-blanco.svg">
                </div>

                <div id="titulo" class="col-12 col-md-4">
                    Mapa de Proyectos
                </div>

                <!-- Menú de hamburguesa para versión móvil -->
                <div class="card col-6 col-md-3 d-md-none">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span><img style="width: 1.5rem;margin-right: 0.5rem;" src="images/menu.svg">Buscar</span>
                    </button>
                </div>

                <!-- Filtros para versión desktop -->
                <div class="col-1 col-md-2 d-none d-md-block">
                    <select class="form-select form-select-sm regionDropdown"></select>
                </div>
                <div class="col-1 col-md-2 d-none d-md-block">
                    <select class="form-select form-select-sm comunaDropdown"></select>
                </div>
                <!-- Botón de ubicación -->
                <div class="card col-6 col-md-1" id="locate-button" onclick="locateUser()">
                    <span><img style="width: 1.1rem;margin-right: 0.5rem;" src="images/locate.svg">Tu ubicación</span>
                    <h6 style="font-size: small;" class="d-none d-md-block"></h6>
                </div>
            </div>
        </div>

        <!-- Menú colapsable para versión móvil -->
        <div class="collapse" id="navbarCollapse">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md-2">
                        <select class="form-select form-select-sm regionDropdown">
                            <!-- Opciones de la lista desplegable para la región -->
                        </select>
                    </div>
                    <div class="col-12 col-md-2">
                        <select class="form-select form-select-sm comunaDropdown">
                            <!-- Opciones de la lista desplegable para la comuna -->
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="bloque">
        <div class="container-fluid col-12 p-0 m-0">
            <div class="row">
                <!-- Caja 1 -->
                <div class="col-3 col-md-3 p-0 m-0 d-none d-md-block">
                    <div style="margin-left: 1rem;" id="panel-container">
                        <div id="panel"></div>
                    </div>
                </div>
                <!-- Caja 2 -->
                <div class="col-6 col-md-6 col-sm-6 p-0 m-0">
                    <div id="map"></div>
                    <div id="bottom-panel" class="d-block d-md-none">Proyectos en vista actual</div>
                </div>
                                
                <!-- Caja 3 -->
                <div class="col-6 col-md-3 col-sm-6 p-0 m-0">
                    <div id="estadisticas">
                        <h6><i>Estadísticas</h6></i>
                        <div class="card contador" id="extent">Vista actual</div>
                        <div class="card contador" id="nacional">Nacional</div>
                        <div class="card contador d-none d-md-block" id="regional">Seleccionar una región para obtener su información</div>
                        <div class="card contador d-none d-md-block" id="comunal">Seleccionar una comuna para obtener su información</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/scripts.js"></script>
</body>
</html>